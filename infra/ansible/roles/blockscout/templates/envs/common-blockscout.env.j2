# Blockscout Backend Environment Configuration
# Generated by Ansible - Do not edit manually

# Database
DATABASE_URL=postgresql://{{ blockscout_db_user }}:{{ blockscout_db_password }}@db:5432/{{ blockscout_db_name }}
ECTO_USE_SSL=false

# RPC Configuration
ETHEREUM_JSONRPC_VARIANT={{ blockscout_rpc_variant }}
ETHEREUM_JSONRPC_HTTP_URL={{ blockscout_rpc_url }}
ETHEREUM_JSONRPC_TRACE_URL={{ blockscout_rpc_trace_url }}
ETHEREUM_JSONRPC_TRANSPORT=http
ETHEREUM_JSONRPC_DISABLE_ARCHIVE_BALANCES=false

# Chain Configuration
CHAIN_ID={{ blockscout_chain_id }}
NETWORK=
SUBNETWORK={{ blockscout_chain_name }}
COIN={{ blockscout_chain_symbol }}
COIN_NAME={{ blockscout_chain_symbol }}
EXCHANGE_RATES_COIN={{ blockscout_chain_symbol }}

# Secret Key
SECRET_KEY_BASE={{ blockscout_secret_key_base }}

# Server
PORT=4000
BLOCKSCOUT_HOST={{ blockscout_domain }}
BLOCKSCOUT_PROTOCOL=https
NETWORK_PATH=/

# Pool sizes - optimized for 32GB RAM
POOL_SIZE={{ blockscout_pool_size }}
POOL_SIZE_API={{ blockscout_pool_size_api }}

# Heartbeat
HEART_BEAT_TIMEOUT=30

# Block Configuration
BLOCK_TRANSFORMER=base
EMISSION_FORMAT=DEFAULT

# Logo
LOGO=/images/blockscout_logo.svg
FOOTER_LOGO=/images/blockscout_logo.svg

# Footer
FOOTER_LINK_TO_OTHER_EXPLORERS=false
FOOTER_OTHER_EXPLORERS={}
SUPPORTED_CHAINS={}

# Cache settings
CACHE_BLOCK_COUNT_PERIOD={{ blockscout_cache_block_count_period }}
CACHE_TXS_COUNT_PERIOD={{ blockscout_cache_txs_count_period }}
CACHE_ADDRESS_SUM_PERIOD={{ blockscout_cache_address_sum_period }}
CACHE_TOTAL_GAS_USAGE_PERIOD=60
CACHE_ADDRESS_TRANSACTIONS_GAS_USAGE_COUNTER_PERIOD=30
CACHE_TOKEN_HOLDERS_COUNTER_PERIOD=60
CACHE_TOKEN_TRANSFERS_COUNTER_PERIOD=60
CACHE_ADDRESS_WITH_BALANCES_UPDATE_INTERVAL=30
CACHE_AVERAGE_BLOCK_PERIOD=30
CACHE_MARKET_HISTORY_PERIOD=60
CACHE_ADDRESS_TRANSACTIONS_COUNTER_PERIOD=60
CACHE_ADDRESS_TOKENS_USD_SUM_PERIOD=60
CACHE_ADDRESS_TOKEN_TRANSFERS_COUNTER_PERIOD=60

# Token Metadata
TOKEN_METADATA_UPDATE_INTERVAL=60
CONTRACT_MAX_STRING_LENGTH_WITHOUT_TRIMMING=2040

# Contract Verification
CONTRACT_VERIFICATION_ALLOWED_SOLIDITY_EVM_VERSIONS=homestead,tangerineWhistle,spuriousDragon,byzantium,constantinople,petersburg,istanbul,berlin,london,paris,shanghai,cancun,default
CONTRACT_VERIFICATION_ALLOWED_VYPER_EVM_VERSIONS=byzantium,constantinople,petersburg,istanbul,berlin,paris,shanghai,cancun,default

# Webapp
DISABLE_WEBAPP=false

# API Configuration
API_V2_ENABLED={{ blockscout_api_v2_enabled | lower }}
API_V1_READ_METHODS_DISABLED=false
API_V1_WRITE_METHODS_DISABLED=false
API_RATE_LIMIT_TIME_INTERVAL=1s
API_RATE_LIMIT_BY_IP_TIME_INTERVAL=5m
API_RATE_LIMIT={{ blockscout_api_rate_limit }}
API_RATE_LIMIT_BY_KEY=50
API_RATE_LIMIT_BY_WHITELISTED_IP=50
API_RATE_LIMIT_WHITELISTED_IPS=
API_RATE_LIMIT_STATIC_API_KEY=
API_RATE_LIMIT_UI_V2_WITH_TOKEN=5
API_RATE_LIMIT_BY_IP={{ blockscout_api_rate_limit_by_ip }}
API_RATE_LIMIT_UI_V2_TOKEN_TTL_IN_SECONDS=18000

# Indexer
DISABLE_INDEXER={{ blockscout_disable_indexer | lower }}
DISABLE_REALTIME_INDEXER={{ blockscout_disable_realtime_indexer | lower }}
DISABLE_CATCHUP_INDEXER=false
INDEXER_DISABLE_ADDRESS_COIN_BALANCE_FETCHER=false
INDEXER_DISABLE_TOKEN_INSTANCE_REALTIME_FETCHER=false
INDEXER_DISABLE_TOKEN_INSTANCE_RETRY_FETCHER=false
INDEXER_DISABLE_TOKEN_INSTANCE_SANITIZE_FETCHER=false
INDEXER_DISABLE_TOKEN_INSTANCE_LEGACY_SANITIZE_FETCHER=false
INDEXER_DISABLE_PENDING_TRANSACTIONS_FETCHER=false
INDEXER_DISABLE_INTERNAL_TRANSACTIONS_FETCHER=false
INDEXER_CATCHUP_BLOCKS_BATCH_SIZE={{ blockscout_catchup_blocks_batch_size }}

# Display Settings
SHOW_ADDRESS_MARKETCAP_PERCENTAGE=true
CHECKSUM_ADDRESS_HASHES=true
CHECKSUM_FUNCTION=eth
DISABLE_EXCHANGE_RATES=true
TXS_STATS_ENABLED=true
SHOW_PRICE_CHART=false
SHOW_PRICE_CHART_LEGEND=false
SHOW_TXS_CHART=true
TXS_HISTORIAN_INIT_LAG=0
TXS_STATS_DAYS_TO_COMPILE_AT_INIT=10
COIN_BALANCE_HISTORY_DAYS=90
APPS_MENU=true
EXTERNAL_APPS=[]
UNCLES_IN_AVERAGE_BLOCK_TIME=false
MAX_SIZE_UNLESS_HIDE_ARRAY=50
HIDE_BLOCK_MINER=false
DISPLAY_TOKEN_ICONS=false
SHOW_MAINTENANCE_ALERT=false
MAINTENANCE_ALERT_MESSAGE=

# ReCaptcha (disabled)
RE_CAPTCHA_DISABLED=false
RE_CAPTCHA_SECRET_KEY=
RE_CAPTCHA_CLIENT_KEY=
RE_CAPTCHA_V3_SECRET_KEY=
RE_CAPTCHA_V3_CLIENT_KEY=

# Microservices
MICROSERVICE_SC_VERIFIER_ENABLED=true
MICROSERVICE_SC_VERIFIER_URL=https://eth-bytecode-db.services.blockscout.com/
MICROSERVICE_SC_VERIFIER_TYPE=eth_bytecode_db
MICROSERVICE_ETH_BYTECODE_DB_INTERVAL_BETWEEN_LOOKUPS=10m
MICROSERVICE_ETH_BYTECODE_DB_MAX_LOOKUPS_CONCURRENCY=10
{% if blockscout_visualizer_enabled | default(true) %}
MICROSERVICE_VISUALIZE_SOL2UML_ENABLED=true
MICROSERVICE_VISUALIZE_SOL2UML_URL=http://visualizer:8050/
{% else %}
MICROSERVICE_VISUALIZE_SOL2UML_ENABLED=false
{% endif %}
{% if blockscout_sig_provider_enabled | default(true) %}
MICROSERVICE_SIG_PROVIDER_ENABLED=true
MICROSERVICE_SIG_PROVIDER_URL=http://sig-provider:8050/
{% else %}
MICROSERVICE_SIG_PROVIDER_ENABLED=false
{% endif %}
MICROSERVICE_ACCOUNT_ABSTRACTION_ENABLED=false

# Sourcify (disabled)
SOURCIFY_INTEGRATION_ENABLED=false
SOURCIFY_SERVER_URL=
SOURCIFY_REPO_URL=

# Tenderly (disabled)
SHOW_TENDERLY_LINK=false
TENDERLY_CHAIN_PATH=

# Rewards
FETCH_REWARDS_WAY=trace_block

# Account (disabled)
ACCOUNT_ENABLED=false
ACCOUNT_CLOAK_KEY=
ACCOUNT_REDIS_URL=redis://redis:6379

# EIP-1559
EIP_1559_ELASTICITY_MULTIPLIER=2

# Decode
DECODE_NOT_A_CONTRACT_CALLS=true

# IPC
IPC_PATH=

# JSON RPC
JSON_RPC=
